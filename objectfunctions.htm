<!DOCTYPE html>
<html>
<head>
<!-- Loading interface javascript -->
<script type="text/javascript" src="interface/mainscreen.js"></script>
<script type="text/javascript" src="interface/initialise.js"></script>

<!-- Loading model javascript -->
<script type="text/javascript" src="model/sim.js"></script>
<script type="text/javascript" src="model/person.js"></script>
<script type="text/javascript" src="model/hcv.js"></script>



<script>


</script>
</head>



<body>

<p>This example creates objects and assigns some values</p>

<p id="SetUpPopButton">Click here to display PatientA.</p>

<p id="resultsSetUpPop">Results displayed here</p>

<p id="CalculateAgeButton">Click above then here to calculate age.</p>

<p id="resultsCalculateAge">Results displayed here</p>

<p id="WebworkerButton">Click above then here to calculate age.</p>

<p id="resultsCalculateAge">Results displayed here</p>




<script>
//Add listeners
document.getElementById("SetUpPopButton").addEventListener("click", SetUpPop);
document.getElementById("CalculateAgeButton").addEventListener("click", CalculateAge);
document.getElementById("WebworkerButton").addEventListener("click", SingleWebWorker);



//Functions

function SingleWebWorker()
{
	if(typeof(Worker) !== "undefined") {
        if(typeof(w) == "undefined") {
            w = new Worker("model/singlewebworker.js");
        }
        w.onmessage = function(event) {
            document.getElementById("result").innerHTML = event.data;
        };
    } else {
        console.log("Web workers not supported in this browser...");
    }
}




function SetUpPop() {
	for (i=0; i<300000; i++)
	{
		Person[i]=new PersonObject(2, 1985.1);
	}
	document.getElementById("resultsSetUpPop").innerHTML = "Done";
}

function CalculateAge() {
	document.getElementById("resultsCalculateAge").innerHTML = Person[0].Age(2013);
}


</script>

</body>
</html>